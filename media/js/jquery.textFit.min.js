(function(a){a.fn.textFit=function(b){var c={alignVert:false,alignHoriz:false,multiLine:false,detectMultiLine:true,minFontSize:6,maxFontSize:80,reProcess:false,widthOnly:false};a.extend(c,b);return this.each(function(){if(this.length===0||!c.reProcess&&a(this).data("boxfitted")){return a(this)}if(!c.reProcess){a(this).data("boxfitted",1)}var b,d,e,f;var g,h,i;e=a(this).html();a(this).html("");f=a(this).width();d=a(this).height();if(!f||!c.widthOnly&&!d){if(window.console!=null){if(!c.widthOnly)console.info("Set a static height and width on the target element"+this.outerHTML+" before using textFit!");else console.info("Set a static width on the target element"+this.outerHTML+" before using textFit!")}return a(this).html(e)}else{if(e.indexOf("textfitted")===-1){b=a("<span></span>").addClass("textfitted").html(e);a(this).html(b)}else{a(this).html(e);b=a(e).find("span.textfitted")}if(c.alignVert){a(this).css("display","table");b.css("display","table-cell");b.css("vertical-align","middle")}if(c.alignHoriz){a(this).css("text-align","center");b.css("text-align","center")}if(c.detectMultiLine&&!c.multiLine&&b.height()>=parseInt(b.css("font-size"),10)*2){c.multiLine=true}if(!c.multiLine){a(this).css("white-space","nowrap")}g=c.minFontSize+1;i=c.maxFontSize+1;while(g<=i){h=parseInt((g+i)/2,10);b.css("font-size",h);if(b.width()<=f&&(c.widthOnly||b.height()<=d)){g=h+1}else{i=h-1}}b.css("font-size",h-1)}})}})(jQuery)