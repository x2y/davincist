{% extends "base_path.html" %}

{% load tags %}

{% block title %}{{ path.name|capfirst }} badges{% endblock %}

{% block content %}
<table>
  <tr>
    <th>Level</th>
    <th>Type</th>
    <th>Required</th>
    <th>Name</th>
    <th>Description</th>
    <th>Quests</th>
  </tr>
  {% for level in path.levels.all %}
    {% for badge in level.badges.all %}
      <tr>
        <td>{{ level.rank }}</td>
        <td>{{ badge.grade }}</td>
        <td>{{ badge.is_required }}</td>
        <td>{{ badge.name }}</td>
        <td>{{ badge.description|truncatechars:64 }}</td>
        <td>
          {% for quest in badge.quests.all %}
            {{ quest.name }}
            {% if not forloop.last %}
              , 
            {% endif %}
          {% empty %}
            <i>No quest is needed to earn this badge.</i>
          {% endfor %}
        </td>
      </tr>
    {% endfor %}
  {% endfor %}
</table>
{% endblock %}
